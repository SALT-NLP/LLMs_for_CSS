<script src="https://assets.crowd.aws/crowd-html-elements.js"></script>
<link href="https://s3.amazonaws.com/mturk-public/bs30/css/bootstrap.min.css" rel="stylesheet" />
<!-- End Instructions --><!-- Content Body --><script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script><script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

<section class="container" id="Other" style="margin-bottom:15px; padding: 10px 10px; font-family: Verdana, Geneva, sans-serif; color:#333333; font-size:10pt;">
<fieldset>


	<h2>Evaluation: Figurative Language Explanations</h2>
	<a href="#TASK_BEGINNING">[Jump to Task]</a>
	<div class="panel-group">
		<div class="panel panel-default">
			<div class="panel-heading">
				<h4 class="panel-title" style="font-weight: bold"><a id="INSTRUCTIONS">Instructions</a> &nbsp; &nbsp; <a data-toggle="collapse" href="#collapse0" style="color:#0080ff;font-weight:normal;text-decoration: underline;">(Expand/Collapse)</a></h4>
				</div>
					<div class="panel-collapse collapse" id="collapse0" style="margin:10px">

						<p>You will read two short sentences, one literal and one figurative, and you'll help judge the quality of how the descriptions explain the <b>figurative language</b> that links them in a given RELATIONSHIP. SENTENCE 1 (which is also called the premise) is literal and SENTENCE 2 (which is also called the hypothesis) is figurative. They have a RELATIONSHIP, which says whether the first sentence makes the second sentence true (Entailment) or makes the second sentence false (Contradiction). To understand the RELATIONSHIP, we need to understand figurative language, and the EXPLANATION describes the figurative language.</p>

						<h5>Please closely read the examples below of Fully Correct EXPLANATION 1s and some incorrect EXPLANATION 2s.</h5>
			            <table class="table table-sm" id="examples-table">
			              <thead>
			                <tr><th scope="col" style="width: 15%;">SENTENCE 1 (literal)</th>
			                <th scope="col" style="width: 15%;">SENTENCE 2 (figurative)</th>
			                <th scope="col" style="width: 10%;">RELATIONSHIP</th>
			                <th scope="col" style="width: 20%;">Correct EXPLANATION 1</th>
			                <th scope="col" style="width: 20%;">Incorrect EXPLANATION 2</th>
			                <th scope="col" style="width: 20%;">Why is EXPLANATION 2 Incorrect?</th>
			              </tr></thead>
			              <tbody>
			                <tr>
			                  <td>
			                  	The assembly hall was now hot and moist, more so than usual. 
			                  </td>
												<td>
													In fact, the assembly hall was now like a steam sauna.
												</td>
			                  <td>
			                    <strong>Entailment</strong>
			                  </td>
			                  <td>
			                  	A sauna is a hot and moist environment, so the simile is saying that the hall is even hotter and more moist than usual.
			                  </td>
			                  <td>
			                  	The relationship between the premise and the hypothesis is entailed.
			                  </td>
			                  <td>
			                  	The explanation is supposed to describe the meaning behind the figurative language, and EXPLANATION 2 only gives the relationship as Entailment.
			                  </td>
			                </tr>

			                <tr>
			                  <td>
			                  	The assembly hall was now cold and dry, more so than usual.
			                  </td>
												<td>
													In fact, the assembly hall was now like a steam sauna.
												</td>
			                  <td>
			                    <strong>Contradiction</strong>
			                  </td>
			                  <td>
			                  	A steam sauna is a small room or hut where people go to sweat in steam, so it would be hot and humid, not cold and dry.
			                  </td>
			                  <td>
			                  	A steam sauna is a cold and dry place.
			                  </td>
			                  <td>
			                  	EXPLANATION 2 is factually incorrect.
			                  </td>
			                </tr>

			                <tr>
			                  <td>
			                  	He mentally assimilated the knowledge or beliefs of his tribe.
			                  </td>
												<td>
													He absorbed the knowledge or beliefs of his tribe.
												</td>
			                  <td>
			                    <strong>Entailment</strong>
			                  </td>
			                  <td>
			                  	To absorb something is to take it in and make it part of yourself.
			                  </td>
			                  <td>
			                  	The hypothesis uses figurative language to express that the speaker absorbed the knowledge.
			                  </td>
			                  <td>
			                  	EXPLANATION 2 identifies the figurative phrase but doesn't explain what it means.
			                  </td>
			                </tr>

			                <tr>
			                  <td>
			                  	He utterly decimated his tribe's most deeply held beliefs.
			                  </td>
												<td>
													He absorbed the knowledge or beliefs of his tribe.
												</td>
			                  <td>
			                    <strong>Contradiction</strong>
			                  </td>
			                  <td>
			                  	Absorbed typically means to take in or take up something, while "utterly decimated" means to destroy completely.
			                  </td>
			                  <td>
			                  	"Utterly decimated" means to destroy completely.
			                  </td>
			                  <td>
			                  	EXPLANATION 2 correctly explains the figurative language in SENTENCE 1 but not the figurative language in SENTENCE 2.
			                  </td>
			                </tr>

			                <tr>
			                  <td>
			                  	Lady Southridge was wringing her hands, trying hard and desperately to salvage the bleak and miserable situation so that it somehow looks positive.
			                  </td>
												<td>
													Lady southridge was wringing her hands, trying to grasp at straws.
												</td>
			                  <td>
			                    <strong>Entailment</strong>
			                  </td>
			                  <td>
			                  	To grasp at straws means to make a desperate attempt to salvage a bad situation, which is exactly what Lady Southridge is trying to do.
			                  </td>
			                  <td>
			                  	Lady Southridge is trying to salvage a bad situation.
			                  </td>
			                  <td>
			                  	EXPLANATION 2 is true, but it doesn't explain the figurative phrase 'grasp at straws.'
			                  </td>
			                </tr>

			                <tr>
			                  <td>
			                  	I was really wishing I was moving to New York like my friend.
			                  </td>
												<td>
													I was ecstatic when my friend told me that she is moving to New York leaving me behind.
												</td>
			                  <td>
			                    <strong>Contradiction</strong>
			                  </td>
			                  <td>
			                  	The figurative language in the hypothesis is hyperbole, as the speaker is unlikely to be truly ecstatic about being left behind.
			                  </td>
			                  <td>
			                  	The hypothesis uses figurative language to express the speaker's disappointment at being left behind while their friend moves to New York
			                  </td>
			                  <td>
			                  	EXPLANATION 2 describes the speaker's intended meaning, but does not explain how we can come to this interpretation by explaining the figurative language in the hypothesis. 
			                  </td>
			                </tr>
			              </tbody>
			            </table>
					</div>
				</div>
			</div>
		</div>
	</div>

	<br>

	<crowd-form answer-format='flatten-objects'>
		<h2><a id="TASK_BEGINNING">Task</a></h2>

		<p>Thanks for participating! Before getting started, please read the <a href="#INSTRUCTIONS">Instructions</a> completely.</p>

		<div class="story-excerpt" style="margin-top: 40">
			<a id="PREMISE"><h4>SENTENCE 1 (premise, literal):</h4></a>

			<div style="padding-left:20px;">
				<p style="font-size:10pt">${premise}</p>
			</div>
		</div>

		<div class="story-excerpt" style="margin-top: 40">
			<a id="HYPOTHESIS"><h4>SENTENCE 2 (hypothesis, figurative):</h4></a>

			<div style="padding-left:20px;">
				<p style="font-size:10pt">${hypothesis}</p>
			</div>
		</div>

		<div class="story-excerpt" style="margin-top: 40">
			<a id="LABEL"><h4>RELATIONSHIP between the sentences:</h4></a>

			<div style="padding-left:20px;">
				<p style="font-size:10pt">${labels}</p>
			</div>
		</div>

    <div>
    	<p>Compared to SENTENCE 1, SENTENCE 2 is supposed to either mean the same thing (Entailment) or the opposite of SENTENCE 1 (Contradiction). To understand this RELATIONSHIP of Entailment or Contradiction, we need to understand figurative language.</p>
    	<p>Consider EXPLANATIONS A, B, C and D below. How good are these EXPLANATIONS at describing the <span style="color:#980000"><u>reason</u></span> we know the figurative relationship between SENTENCE 1 and SENTENCE 2?</p>
    	<p><b>Rank EXPLANATIONS from 1 (best reason / explanation of figurative language) to 4 (worst reason explanation of figurative language)</b> by selecting from the dropdown menus. Each statement should have a unique rank number.</p>
    </div>
    <br>

		<div class="story-excerpt">
			<a id="ANSWER"><h4>EXPLANATIONS:</h4></a>

				<table class="table table-sm" id="examples-table">
	          <thead>
	            <tr>
	            	<th scope="col"></th>
	            	<th scope="col">EXPLANATION</th>
	            	<th scope="col">Ranking (input here)</th>
	          	</tr>
	      	  </thead>
	          <tbody>
	            <tr>
	              <td>A</td>
	              <td>${Generated_1}</td>
	              <td>
	              	<select name="gen_1_statement_correct" id="gen_1_statement_correct" required>
	              		<option disabled selected value> -- select an option -- </option>
			            <option value="rank_1">1 (best explanation)</option>
			            <option value="rank_2">2</option>
			            <option value="rank_3">3</option>
			            <option value="rank_4">4 (worst explanation)</option>        
			        </select>
    			  </td>
	            </tr>

	            <tr>
	              <td>B</td>
	              <td>${Generated_2}</td>
	              <td>
	              	<select name="gen_2_statement_correct" id="gen_2_statement_correct" required>
	              		<option disabled selected value> -- select an option -- </option>
			            <option value="rank_1">1 (best explanation)</option>
			            <option value="rank_2">2</option>
			            <option value="rank_3">3</option>
			            <option value="rank_4">4 (worst explanation)</option>        
			        </select>
    			  </td>
	            </tr>

	            <tr>
	              <td>C</td>
	              <td>${Generated_3}</td>
	              <td>
	              	<select name="gen_3_statement_correct" id="gen_3_statement_correct" required>
	              		<option disabled selected value> -- select an option -- </option>
			            <option value="rank_1">1 (best explanation)</option>
			            <option value="rank_2">2</option>
			            <option value="rank_3">3</option>
			            <option value="rank_4">4 (worst explanation)</option>        
			        </select>
    			  </td>
	            </tr>

	            <tr>
	              <td>D</td>
	              <td>${Generated_4}</td>
	              <td>
	              	<select name="gen_4_statement_correct" id="gen_4_statement_correct" required>
	              		<option disabled selected value> -- select an option -- </option>
			            <option value="rank_1">1 (best explanation)</option>
			            <option value="rank_2">2</option>
			            <option value="rank_3">3</option>
			            <option value="rank_4">4 (worst explanation)</option>        
			        </select>
    			  </td>
	            </tr>

	          </tbody>
	        </table>
		</div>

            <br>
            <div>
                <p><b>On a scale of 1-5, how good is the <em>best</em> EXPLANATION in the above table at describing the <span style="color:#980000"><u>reason</u></span> we know the figurative relationship between SENTENCE 1 and SENTENCE 2?</b> The reason should say </p>
                <p style="font-size:10pt;"><span>(If you are confused about quality here, see example table in <a href="#INSTRUCTIONS">Instructions</a>)</span><br>
                <crowd-radio-group>
										1 (bad)
                    <crowd-radio-button name='explanation_quality_bad_1' id='explanation_quality_bad_1'></crowd-radio-button>
                    2
                    <crowd-radio-button name='explanation_quality_bad_2' id='explanation_quality_bad_2'></crowd-radio-button>
                    3
                    <crowd-radio-button name='explanation_quality_mid_3' id='explanation_quality_mid_3'></crowd-radio-button>
                    4
                    <crowd-radio-button name='explanation_quality_good_4' id='explanation_quality_good_4'></crowd-radio-button>
                    5 (good)
                    <crowd-radio-button name='explanation_quality_good_5' id='explanation_quality_good_5'></crowd-radio-button>
                </crowd-radio-group>
            </div>

			<br>
			<p style="font-size:10pt"><b>Optional Feedback:</b> Thanks for filling out the questions! If something about the task was unclear, please leave a comment in the box below. We would like to make this HIT easier for future workers, so we really appreciate feedback. This is optional.</p>

	<textarea cols="100" name="commentbox" rows="2" style="margin-left:10px;margin-top:10px"></textarea>
	<br />
	<br />
	&nbsp;
	<div onclick="getNext();">
		<input class="btn btn-primary" id="submitButton" onclick="getNext()" type="submit" value="Submit"/> <!--HERE-->
	</div>

	</div>
	</div>
	</crowd-form>
</fieldset>
</section>
<!-- End Content Body --><!-- close container -->

<style type="text/css">
::selection{
  color: #fff;
  background: #664AFF;
}
.wrapper .search-input{
  background: #fff;
  width: 100%;
  border-radius: 5px;
  position: relative;
}
.search-input input{
  height: 55px;
  width: 100%;
  outline: none;
  border: none;
  border-radius: 5px;
  padding: 0 60px 0 20px;
  font-size: 18px;
  box-shadow: 0px 1px 5px rgba(0,0,0,0.1);
}
.search-input.active input{
  border-radius: 5px 5px 0 0;
}
.search-input .autocom-box{
  padding: 0;
  opacity: 0;
  pointer-events: none;
  max-height: 280px;
  overflow-y: auto;
}
.search-input.active .autocom-box{
  padding: 10px 8px;
  opacity: 1;
  pointer-events: auto;
}
.autocom-box li{
  list-style: none;
  padding: 8px 12px;
  display: none;
  width: 100%;
  cursor: default;
  border-radius: 3px;
}
.search-input.active .autocom-box li{
  display: block;
}
.autocom-box li:hover{
  background: #efefef;
}
.search-input .icon{
  position: absolute;
  right: 0px;
  top: 0px;
  height: 55px;
  width: 55px;
  text-align: center;
  line-height: 55px;
  font-size: 20px;
  color: #644bff;
  cursor: pointer;
}

fieldset { padding: 10px; background:#fbfbfb; border-radius:5px; margin-bottom:5px; }
.columns{
    list-style-type: none;
    -webkit-columns: 2;
    -moz-columns: 2;
    columns: 2;
    list-style-position: inside;
}
.unbulleted{
    list-style-type: none;
    padding:7px;
    margin:0px;
}
.story-excerpt {
   margin-bottom: 30;
   margin-left:10;
   min-width: 500px;
   border:2px #333333;
   background-color: #f2f2f2;
   border-style: solid;
   padding-right:10px;
   padding-left:10px;
   display:table;
   border-radius:15px;
}
table{
   font-size:10pt;
}

.example-table td, .example-table th{
   border:1px solid grey;
   text-align:center;
   font-size: 10pt;
}

.tooltip {
  background-color: #FFFF00;
}

/* Tooltip text */
.tooltip .tooltiptext {
  visibility: hidden;
  width: 120px;
  background-color: black;
  color: #fff;
  text-align: center;
  padding: 5px 0;
  border-radius: 6px;

  /* Position the tooltip text - see examples below! */
  position: absolute;
  z-index: 1;
}

/* Show the tooltip text when you mouse over the tooltip container */
.tooltip:hover .tooltiptext {
  visibility: visible;
}

</style>

<script>
    document.querySelector('crowd-form').onsubmit = function(e) {
          if (!submit_form()) {
              e.preventDefault();
          }
      }

	function hasDuplicates(array) {
	    return (new Set(array)).size !== array.length;
	}

    function submit_form() {

    	const inputs = [document.getElementById('gen_1_statement_correct').value,
    		document.getElementById('gen_2_statement_correct').value,
    		document.getElementById('gen_3_statement_correct').value,
    		document.getElementById('gen_4_statement_correct').value
    	]
	    if (hasDuplicates(inputs)) {
	        alert("Please make sure there are no ties in the EXPLANATION rankings above.");
	        return false;
	    }
	    else if ((!document.getElementById('explanation_quality_bad_1').checked) && (!document.getElementById('explanation_quality_bad_2').checked) &&  (!document.getElementById('explanation_quality_mid_3').checked) && (!document.getElementById('explanation_quality_good_4').checked) && (!document.getElementById('explanation_quality_good_5').checked)) {
	        alert("Please respond to 'On a scale of 1-5, how good is the best EXPLANATION...'");
	        return false;
	    }
	    else {
	    	return true;
	    }
	}
</script>